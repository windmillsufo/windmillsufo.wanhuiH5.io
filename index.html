<!doctype html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>2020·爱你爱你-佛山平安产险年会</title>
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-siteapp" />
<script type="text/javascript" src="data.json"></script>
<script type="text/javascript" src="jquery.min.js"></script>
<link rel="stylesheet" href="bootstrap.min.css">
<script src="bootstrap.min.js"></script>
<link rel="stylesheet" href="amazeui.min.css">
<link rel="stylesheet" href="app.css">
<style type="text/css">
input::-webkit-input-placeholder {
	color: #FFFFFF;
}
</style>
<script type="text/javascript">
	$(function() {
		// dom加载完毕


		$("#btn").click(
				function() {
					var name = $("#txtName").val();
					var tel = $("#txtTel").val();
					
					var $modal = $('#myModal');
			        

			        // 测试 bootstrap 居中
			        $modal.on('show.bs.modal', function(){
			          var $this = $(this);
			          var $modal_dialog = $this.find('.modal-dialog');
			          // 关键代码，如没将modal设置为 block，则$modala_dialog.height() 为零
			          $this.css('display', 'block');
			          $modal_dialog.css({'margin-top': Math.max(0, ($(window).height() - $modal_dialog.height()) / 2) - 50 });
			        });
			        
			        
				       
			          $modal.modal({backdrop: 'static'});

					$.getJSON("data.json", function(data) {
						var $jsontip = $("#jsonTip");
						var strHtml = "";
						//存储数据的变量
						$jsontip.empty();
						//清空内容 
						$.each(data, function(infoIndex, info) {
							if (info["name"] == name) {
								/*
								strHtml += "【" + info["dept"] + "】的【"
										+ info["name"] + "】，您的桌号是【"
										+ info["destop_num"] + "号】";
								strHtml += "<hr>";*/

								strHtml += "<b>" + info["dept"] + "</b>的<b>" + info["name"] +  "</b>您好，欢迎来到“2020·爱你爱你-佛山平安产险年会”现场，您的桌号是<b>" + info["destop_num"]  + "</b>";
								strHtml += "<hr>";
							}
						})
						if (strHtml == "") {
							strHtml = "抱歉，没有查询记录。"
						}
						$jsontip.html(strHtml);
						//显示处理后的数据 
					})
				})
	})
</script>
</head>
<body>
	<div class="am-g myapp-login" style="width:100%;height:600px">
		<div class="myapp-login-bg">
			<div class="myapp-login-logo" style="height:250px">
				&nbsp;
			</div>
			<div class="am-u-sm-10 myapp-login-form">
				<form class="am-form">
					<fieldset>

						<div class="am-form-group">

							<input type="text" class=""
								style="background-color: #FFFFFF; color: #000000" id="txtName"
								value="" placeholder="请输入姓名">
						</div>

						<div class="am-form-group">

							<input type="text" class="" id="txtTel" value=""
								style="background-color: #FFFFFF; color: #000000"
								placeholder="请输入手机号码">
						</div>
						<p>
							<button type="button" id="btn" class="am-btn am-btn-default"
								>查询</button>
						</p>

					</fieldset>
				</form>
			</div>

		</div>
	</div>
	<!-- 模态框（Modal） -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">

					<h4 class="modal-title" id="myModalLabel">查询结果</h4>
				</div>
				<div class="modal-body" id="jsonTip"></div>
				<div class="modal-footer" style="text-align:center">

					<button type="button" class="btn btn-primary" style="width:150px;font-size:15px" data-dismiss="modal">
						关闭</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal -->
	</div>
	


</body>
</html>